library IEEE;
use IEEE.std_logic_1164.all;
use IEEE.numeric_std.all;

entity ALUTB is
end entity;

architecture behavior of ALUTB is
  constant TIME_DELAY : time := 20 ns;
  constant NUM_VALS : integer := 43;



  type A_array is array(0 to (NUM_VALS - 1)) of std_logic_vector(15 downto 0);
  type B_array is array(0 to (NUM_VALS - 1)) of std_logic_vector(15 downto 0);
  type C_array is array(0 to (NUM_VALS - 1)) of std_logic_vector(15 downto 0);
  type Mode_array is array(0 to (NUM_VALS - 1)) of std_logic_vector(3 downto 0);
  type Zero_array is array(0 to (NUM_VALS - 1)) of std_logic;
  
  
  ---------------- SUBTRACTOR ----------------
  -- Full Zeros
  -- a negative and a positive 
  -- a negative and a negative
  -- a positive and negative in which the difference is zero  
  -- a positive and a positive 
  -- overflow only
  -- carry only 
  --------------------------------------------
  
  --------------- Bit AND --------------------
  -- Full Zeros
  -- results in zero 
  -- normal
  --------------------------------------------
  --------------- Bit OR --------------------
  -- Full Zeros 
  -- normal
  --------------------------------------------
  --------------- sgt --------------------
  -- Full Zeros 
  -- greater than 
  -- less than
  --------------------------------------------
  --------------- slt --------------------
  -- Full Zeros 
  -- less than 
  -- greater than 
  --------------------------------------------
  --------------- Bit XOR --------------------
  -- Full Zeros 
  -- normal
  -- result is 0
  --------------------------------------------
  --------------- Bit NAND --------------------
  -- Full Zeros
  -- results in max 
  -- normal
  --------------------------------------------
  --------------- Bit XNOR --------------------
  -- Full Zeros 
  -- normal
  -- result is all ones
  --------------------------------------------
  --------------- CUTL --------------------
  -- Full Zeros 
  -- normal
  -- result lower half is 0 
  -- B is 0 AKA nothing happens
  --------------------------------------------
  --------------- CUTU --------------------
  -- Full Zeros 
  -- normal
  -- result Upper half is 0 
  -- B is 0 AKA nothing happens
  --------------------------------------------
  --------------- SLL --------------------
  -- Full Zeros 
  -- normal
  -- results in 0
  --------------------------------------------
  --------------- SRL --------------------
  -- Full Zeros 
  -- normal
  -- results in 0
  --------------------------------------------
  constant A_vals : A_array := (
                                ------------------adder--------------------
                                B"0000_0000_0000_0000", 
                                B"1000_1000_0000_0000", 
                                B"0111_0000_0000_0000",
                                B"0000_0000_0000_1000",
                                ------------------------------------------
                                ----------------subtractor----------------
                                B"0000_0000_0000_0000", 
                                B"1000_1000_0000_0000", 
                                B"1111_0000_0000_0000",
                                B"1111_1111_1111_1111",
                                ------------------------------------------
                                ---------------bit and--------------------
                                B"0000_0000_0000_0000",
                                B"1111_1111_1111_1111",
                                B"1111_1111_1111_1111",
                                ------------------------------------------
                                ---------------bit or---------------------
                                B"0000_0000_0000_0000",
                                B"1111_1111_1111_1111",
                                ------------------------------------------
                                ---------------- sgt ---------------------
                                B"0000_0000_0000_0000", 
                                B"0000_0000_0000_0001", 
                                B"1111_1111_1111_1111",
                                ------------------------------------------
                                ---------------- slt ---------------------
                                B"0000_0000_0000_0000", 
                                B"1000_0000_0000_0001", 
                                B"0111_1111_1111_1111",
                                ------------------------------------------
                                ----------------bit xor-------------------
                                B"0000_0000_0000_0000",
                                B"1111_1111_1111_1111",
                                B"1111_1111_1111_1111",
                                ------------------------------------------
                                ---------------bit nand--------------------
                                B"0000_0000_0000_0000",
                                B"1111_1111_1111_1111",
                                B"1111_1111_1111_1111",
                                B"1111_1111_1111_1111", 
                                ------------------------------------------
                                ----------------bit xnor-------------------
                                B"0000_0000_0000_0000",
                                B"1111_1111_1111_1111",
                                B"1111_1111_1111_1111",
                                ------------------------------------------
                                ----------------cut lower-------------------
                                B"0000_0000_0000_0000",
                                B"1111_1111_1111_1111",
                                B"1111_1111_1111_1111",
                                B"1111_1111_1111_1111",
                                ------------------------------------------
                                ----------------cut upper-------------------
                                B"0000_0000_0000_0000",
                                B"1111_1111_1111_1111",
                                B"1111_1111_1111_1111",
                                B"1111_1111_1111_1111",
                                ------------------------------------------
                                ---------------- SLL -------------------
                                B"0000_0000_0000_0000",
                                B"1111_1111_1111_1111",
                                B"1111_1111_1111_1111",
                                -----------------------------------------
                                ---------------- SRL -------------------
                                B"0000_0000_0000_0000",
                                B"1111_1111_1111_1111",
                                B"1111_1111_1111_1111"
                                -----------------------------------------
                                );  
                                
  constant B_vals : B_array := (
                                ------------------adder--------------------
                                B"0000_0000_0000_0000",
                                B"0000_0001_0001_0000", 
                                B"1000_0101_0000_0000", 
                                B"0000_0000_0000_0010",
                                -------------------------------------------
                                ----------------subtractor----------------
                                B"0000_0000_0000_0000",
                                B"0000_0001_0001_0000",
                                B"1000_0101_0000_0000",
                                B"1111_1111_1111_1111", 
                                ------------------------------------------
                                ----------------bit and-------------------
                                B"0000_0000_0000_0000",
                                B"0000_0000_0000_0000",
                                B"1111_0000_0000_0000",
                                ------------------------------------------
                                ----------------bit or--------------------
                                B"0000_0000_0000_0000",
                                B"0101_0101_0101_0101",
                                ------------------------------------------
                                ---------------- sgt ---------------------
                                B"0000_0000_0000_0000", 
                                B"1000_0000_0000_0001", 
                                B"0111_1111_1111_1111",
                                ------------------------------------------
                                ---------------- slt ---------------------
                                B"0000_0000_0000_0000", 
                                B"0000_0000_0000_0001", 
                                B"1111_1111_1111_1111",
                                ------------------------------------------
                                -----------------bit xor------------------
                                B"0000_0000_0000_0000",
                                B"0000_0000_0000_0100",
                                B"1111_1111_1111_1111",
                                ------------------------------------------
                                ---------------bit nand--------------------
                                B"0000_0000_0000_0000",
                                B"0000_0000_0000_0000",
                                B"0101_0101_0101_0101",
                                B"1111_1111_1111_1111", 
                                ------------------------------------------
                                ----------------bit xnor-------------------
                                B"0000_0000_0000_0000",
                                B"0000_1111_0000_1111",
                                B"1111_1111_1111_1111",
                                ------------------------------------------
                                ----------------cut lower-------------------
                                B"0000_0000_0000_0000",
                                B"0000_0000_0000_0010",
                                B"1111_1111_1111_1111",
                                B"0000_0000_0000_0000",
                                ------------------------------------------
                                ----------------cut upper-------------------
                                B"0000_0000_0000_0000",
                                B"0000_0000_0000_0010",
                                B"1111_1111_1111_1111",
                                B"0000_0000_0000_0000",
                                ------------------------------------------
                                ----------------SLL-------------------
                                B"0000_0000_0000_0000",
                                B"0000_0000_0000_0100",
                                B"1111_1111_1111_1111",
                                ------------------------------------------
                                ----------------SRL-------------------
                                B"0000_0000_0000_0000",
                                B"0000_0000_0000_0100",
                                B"1111_1111_1111_1111"
                                ------------------------------------------
                                );
  
  constant C_vals : C_array := (
                                ------------------adder--------------------
                                B"0000_0000_0000_0000", 
                                B"1000_1001_0001_0000", 
                                B"1111_0101_0000_0000", 
                                B"0000_0000_0000_1010",
                                ------------------------------------------
                                ----------------subtractor----------------
                                B"0000_0000_0000_0000",
                                B"1000_0110_1111_0000",
                                B"0110_1011_0000_0000",
                                B"0000_0000_0000_0000", 
                                ---------------bit and--------------------
                                B"0000_0000_0000_0000",
                                B"0000_0000_0000_0000",
                                B"1111_0000_0000_0000",
                                ---------------bit or--------------------- 
                                B"0000_0000_0000_0000",
                                B"1111_1111_1111_1111",
                                ---------------- sgt ---------------------
                                B"0000_0000_0000_0000", 
                                B"0000_0000_0000_0001", 
                                B"0000_0000_0000_0000",
                                ---------------- slt ---------------------
                                B"0000_0000_0000_0000", 
                                B"0000_0000_0000_0001", 
                                B"0000_0000_0000_0000",
                                -----------------bit xor----------------------
                                B"0000_0000_0000_0000",
                                B"1111_1111_1111_1011",
                                B"0000_0000_0000_0000",
                                -----------------bit NAND---------------------
                                B"1111_1111_1111_1111", 
                                B"1111_1111_1111_1111", 
                                B"1010_1010_1010_1010",
                                B"0000_0000_0000_0000", 
                                -----------------bit XNOR---------------------
                                B"1111_1111_1111_1111", 
                                B"0000_1111_0000_1111", 
                                B"1111_1111_1111_1111",
                                ----------------cut lower-------------------
                                B"0000_0000_0000_0000",
                                B"1111_1111_1111_1100",
                                B"1111_1111_0000_0000",
                                B"1111_1111_1111_1111",
                                ----------------cut upper-------------------
                                B"0000_0000_0000_0000",
                                B"0011_1111_1111_1111",
                                B"0000_0000_1111_1111",
                                B"1111_1111_1111_1111",
                                ----------------SLL-------------------
                                B"0000_0000_0000_0000",
                                B"1111_1111_1111_0000",
                                B"0000_0000_0000_0000",
                                ----------------SRL-------------------
                                B"0000_0000_0000_0000",
                                B"0000_1111_1111_1111",
                                B"0000_0000_0000_0000"
                                );
  
  constant Zero_vals : Zero_array := (
                                     --adder--
                                       '1', 
                                       '0',
                                       '0', 
                                       '0',
                                     --------
                                  --subtractor--
                                       '1',
                                       '0',
                                       '0',
                                       '1',
                                   -----------
                                   --bit and--
                                       '1',
                                       '1',
                                       '0',
                                   --bit or--
                                       '1',
                                       '0',
                                   ----------
                                   ---sgt---
                                     '1', 
                                     '0', 
                                     '1',
                                    ---slt---
                                      '1', 
                                      '0', 
                                      '1',
                                    ----------
                                   ----bit xor---
                                       '1',
                                       '0',
                                       '1',
                                   ----------
                                   ---- bit nand---
                                       '0', 
                                       '0',
                                       '0', 
                                       '1', 
                                   ----bit xnor--
                                       '0', 
                                       '0',
                                       '0', 
                                   ---cut lower--
                                       '1', 
                                       '0', 
                                       '0', 
                                       '0', 
                                    ---cut upper---
                                       '1', 
                                       '0', 
                                       '0', 
                                       '0', 
                                     ---SLL---
                                       '1', 
                                       '0', 
                                       '1',
                                    ---SRL---
                                       '1', 
                                       '0', 
                                       '1'
                                      );
 
               

  constant Mode_vals : Mode_array := (
                                        --adder--
                                           "0000", 
                                           "0000", 
                                           "0000",
                                           "0000",
                                           -----
                                         --subtractor--
                                            "0001", 
                                            "0001", 
                                            "0001", 
                                            "0001",
                                            ------
                                          --bit and--
                                            "0010",
                                            "0010",
                                            "0010",
                                          --bit or--
                                            "0011",
                                            "0011",
                                          --sgt--
                                            "0100", 
                                            "0100", 
                                            "0100", 
                                          --slt--
                                            "0101", 
                                            "0101", 
                                            "0101", 
                                          --bit xor--
                                            "0110", 
                                            "0110", 
                                            "0110", 
                                          --bit nand--
                                            "0111", 
                                            "0111", 
                                            "0111", 
                                            "0111", 
                                          -- bit xnor --
                                            "1000", 
                                            "1000", 
                                            "1000", 
                                          -- cutl --
                                            "1001", 
                                            "1001", 
                                            "1001", 
                                            "1001", 
                                          -- cutu --
                                            "1010", 
                                            "1010", 
                                            "1010",
                                            "1010", 
                                          -- SLL -- 
                                            "1011", 
                                            "1011", 
                                            "1011", 
                                          -- SRL --
                                            "1100", 
                                            "1100", 
                                            "1100"
                                           );
                                            
  signal Zero_sig : std_logic;           
  signal A_sig : std_logic_vector(15 downto 0);
  signal B_sig : std_logic_vector(15 downto 0);
  signal C_sig : std_logic_vector(15 downto 0);
  signal Mode_sig : std_logic_vector(3 downto 0);
begin

  DUT : entity work.ALU(behavioral)
    port map(A => A_sig,
             B => B_sig,
             C => C_sig,
             Mode => Mode_sig,
             Zero => Zero_sig
             );    

  stimulus : process
  begin
    for i in 0 to (NUM_VALS - 1) loop
      A_sig <= A_vals(i);
      B_sig <= B_vals(i);
      Mode_sig <= Mode_vals(i);
      wait for TIME_DELAY;
    end loop;
    wait;
  end process stimulus;

  monitor : process
    variable i : integer := 0;
  begin
    wait for TIME_DELAY/4;
    while (i < NUM_VALS) loop
      wait for TIME_DELAY/2;
      assert C_sig = C_vals(i)
        report "C value is incorrect." 
        severity error;

      assert Zero_sig = Zero_vals(i)
        report "Zero value is incorrect."
        severity error;
        
      i := i + 1;
      wait for TIME_DELAY/2;
    end loop;
    wait;
  end process monitor;

end behavior;